{"version":3,"file":"static/js/249.4b59f4d2.chunk.js","mappings":"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","sources":["webpack://campers-for-rent/./src/components/CatalogFilterItem/CatalogFilterItem.module.css?54e3","components/CatalogFilterItem/CatalogFilterItem.jsx","webpack://campers-for-rent/./src/components/CatalogFilterList/CatalogFilterList.module.css?5c6f","components/CatalogFilterList/CatalogFilterList.jsx","webpack://campers-for-rent/./src/components/CatalogSearchBar/CatalogSearchBar.module.css?c802","components/CatalogSearchBar/CatalogSearchBar.jsx","webpack://campers-for-rent/./src/components/Loader/Loader.module.css?d03f","components/Loader/Loader.jsx","webpack://campers-for-rent/./src/components/CatalogList/CatalogList.module.css?f754","components/CatalogList/CatalogList.jsx","webpack://campers-for-rent/./src/pages/CatalogPage/CatalogPage.module.css?b0a0","pages/CatalogPage/CatalogPage.jsx"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"container\":\"CatalogFilterItem_container__123kV\",\"checkbox\":\"CatalogFilterItem_checkbox__3WLyK\",\"input\":\"CatalogFilterItem_input__6mLOv\",\"svgBox\":\"CatalogFilterItem_svgBox__ysZRy\"};","import { SvgIcon } from '../SvgIcon/SvgIcon';\nimport { useDispatch } from 'react-redux';\nimport { addToolsFilter, removeToolsFilter } from '../../redux/slice';\nimport css from './CatalogFilterItem.module.css';\n\nexport const CatalogFilterItem = ({ name, icon, nameValue }) => {\n  const dispatch = useDispatch();\n\n  const updateStatus = filter => {\n    if (filter.checked) {\n      dispatch(addToolsFilter(filter.id));\n    } else {\n      dispatch(removeToolsFilter(filter.id));\n    }\n  };\n  return (\n    <li className={css.container}>\n      <input\n        className={css.input}\n        id={name}\n        type=\"checkbox\"\n        onChange={evt => updateStatus(evt.target)}\n        hidden\n      />\n      <label className={css.checkbox} htmlFor={name}>\n        <div className={css.svgBox}>\n          <SvgIcon icon={icon} />\n        </div>\n        {nameValue}\n      </label>\n    </li>\n  );\n};\n","// extracted by mini-css-extract-plugin\nexport default {\"container\":\"CatalogFilterList_container__yV5DI\",\"name\":\"CatalogFilterList_name__MA-km\",\"group\":\"CatalogFilterList_group__afKzS\"};","import { CatalogFilterItem } from '../CatalogFilterItem/CatalogFilterItem';\nimport css from './CatalogFilterList.module.css';\n\nexport const CatalogFilterList = ({ filterGroup, filters }) => {\n  return (\n    <div className={css.container}>\n      <p className={css.name}>{filterGroup}</p>\n      <ul className={css.group}>\n        {Object.keys(filters).map(filter => {\n          return (\n            <CatalogFilterItem\n              key={filter}\n              name={filter}\n              icon={filter}\n              nameValue={filters[filter]}\n            />\n          );\n        })}\n      </ul>\n    </div>\n  );\n};\n","// extracted by mini-css-extract-plugin\nexport default {\"container\":\"CatalogSearchBar_container__7vGzg\",\"form\":\"CatalogSearchBar_form__yC2nh\",\"box\":\"CatalogSearchBar_box__2hegS\",\"label\":\"CatalogSearchBar_label__cX8kw\",\"inputBox\":\"CatalogSearchBar_inputBox__eFRZt\",\"svgBox\":\"CatalogSearchBar_svgBox__Aw2Hp\",\"input\":\"CatalogSearchBar_input__kBnKi\",\"group\":\"CatalogSearchBar_group__KS5MB\",\"gap\":\"CatalogSearchBar_gap__FTHri\",\"button\":\"CatalogSearchBar_button__BLZi6\"};","import { CatalogFilterList } from '../CatalogFilterList/CatalogFilterList';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { selectLocationFilter } from '../../redux/selectors';\nimport { fetchCampers } from '../../redux/thunk';\nimport {\n  updateCurrentPage,\n  updateSearchLocation,\n  updateLocationFilter,\n} from '../../redux/slice';\nimport { SvgIcon } from '../SvgIcon/SvgIcon';\nimport css from './CatalogSearchBar.module.css';\n\nexport const CatalogSearchBar = () => {\n  const dispatch = useDispatch();\n  const locationFilter = useSelector(selectLocationFilter);\n\n  const handleSearchSubmit = evt => {\n    evt.preventDefault();\n    const currentPage = 1;\n    dispatch(updateCurrentPage(currentPage));\n    dispatch(updateSearchLocation(locationFilter));\n    dispatch(\n      fetchCampers({\n        page: currentPage,\n        limit: 4,\n        locationFilter,\n      })\n    );\n  };\n\n  const updateValue = value => {\n    dispatch(updateLocationFilter(value));\n  };\n\n  const vehicleEquipment = {\n    TV: 'AC',\n    CD: 'CD',\n    radio: 'Radio',\n    shower: 'Shower',\n    toilet: 'Toilet',\n    bathroom: 'bathroom',\n    freezer: 'Freezer',\n    hob: 'hob',\n    microwave: 'Microwave',\n  };\n\n  const vehicleType = {\n    panelTruck: 'Van',\n    fullyIntegrated: 'Fully Integrated',\n    alcove: 'Alcove',\n  };\n\n  return (\n    <div className={css.container}>\n      <form className={css.form} onSubmit={handleSearchSubmit}>\n        <div className={css.box}>\n          <p className={css.label}>Location</p>\n          <div className={css.inputBox}>\n            <input\n              className={css.input}\n              id=\"location\"\n              name=\"location\"\n              type=\"input\"\n              autoComplete=\"off\"\n              placeholder=\"City\"\n              value={locationFilter}\n              onChange={evt => updateValue(evt.target.value)}\n            />\n            <div className={css.svgBox}>\n              <SvgIcon icon={'location'} />\n            </div>\n          </div>\n        </div>\n        <p className={css.group}>Filters</p>\n        <CatalogFilterList\n          filterGroup=\"Vehicle equipment\"\n          filters={vehicleEquipment}\n        />\n        <CatalogFilterList filterGroup=\"Vehicle type\" filters={vehicleType} />\n        <span className={css.gap}></span>\n        <button className={css.button}>Search</button>\n      </form>\n    </div>\n  );\n};\n","// extracted by mini-css-extract-plugin\nexport default {\"container\":\"Loader_container__X02md\"};","import { MagnifyingGlass } from 'react-loader-spinner';\nimport css from './Loader.module.css';\n\nconst Loader = () => {\n  return (\n    <div className={css.container}>\n      <MagnifyingGlass\n        height=\"80\"\n        width=\"80\"\n        ariaLabel=\"magnifying-glass-loading\"\n        wrapperStyle={{}}\n        wrapperClass=\"magnifying-glass-wrapper\"\n        glassColor=\"#c0efff\"\n        color=\"#475467\"\n      />\n    </div>\n  );\n};\n\nexport default Loader;\n","// extracted by mini-css-extract-plugin\nexport default {\"container\":\"CatalogList_container__gdKcM\",\"list\":\"CatalogList_list__xFnLi\",\"button\":\"CatalogList_button__rYHiQ\"};","import { CatalogItem } from '../CatalogItem/CatalogItem';\nimport Loader from '../Loader/Loader';\nimport { useEffect } from 'react';\nimport { fetchCampers } from '../../redux/thunk';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { updateCurrentPage } from '../../redux/slice';\nimport {\n  selectCampers,\n  selectCurrentPage,\n  selectError,\n  selectLoadMore,\n  selectLoading,\n  selectLocationFilter,\n  selectSearchLocation,\n  selectToolsFilter,\n} from '../../redux/selectors';\nimport css from './CatalogList.module.css';\n\nexport const CatalogList = () => {\n  const dispatch = useDispatch();\n  const campers = useSelector(selectCampers);\n  const loading = useSelector(selectLoading);\n  const error = useSelector(selectError);\n  const loadMore = useSelector(selectLoadMore);\n  const currentPage = useSelector(selectCurrentPage);\n  const searchLocation = useSelector(selectSearchLocation);\n  const locationFilter = useSelector(selectLocationFilter);\n  const toolsFilter = useSelector(selectToolsFilter);\n\n  useEffect(() => {\n    dispatch(\n      fetchCampers({\n        page: currentPage,\n        limit: 4,\n        location: searchLocation,\n      })\n    );\n  }, [dispatch, currentPage, searchLocation]);\n\n  const onClickLoadMore = () => {\n    dispatch(updateCurrentPage(currentPage + 1));\n  };\n\n  const camperTypes = {\n    panelTruck: 'Van',\n    fullyIntegrated: 'Fully Integrated',\n    alcove: 'Alcove',\n  };\n\n  const featurTypes = {\n    airConditioner: 'Air conditioner',\n    bathroom: 'bathroom',\n    kitchen: 'kitchen',\n    beds: 'beds',\n    TV: 'AC',\n    CD: 'CD',\n    radio: 'Radio',\n    shower: 'Shower',\n    toilet: 'Toilet',\n    freezer: 'Freezer',\n    hob: 'hob',\n    microwave: 'Microwave',\n    gas: 'Gas',\n    water: 'Water',\n    adults: 'adults',\n    children: 'children',\n    engine: 'petrol',\n    transmission: 'automatic',\n  };\n\n  const allMatches = camper => {\n    const types = Object.keys(camperTypes);\n    const checkedTypes = toolsFilter.filter(item => types.includes(item));\n    if (checkedTypes.length > 0 && !checkedTypes.includes(camper.form)) {\n      return false;\n    }\n\n    const features = Object.keys(featurTypes);\n    const checkedFeatures = toolsFilter.filter(item => features.includes(item));\n\n    return checkedFeatures.every(filter => {\n      const featureValue = camper.details[filter];\n      return featureValue && featureValue > 0;\n    });\n  };\n\n  const fromLocation = camperLocation => {\n    if (!camperLocation || !locationFilter) return true;\n    return camperLocation.toLowerCase().includes(locationFilter.toLowerCase());\n  };\n\n  const filteredCampers = campers => {\n    return campers\n      .filter(camper => fromLocation(camper.location))\n      .filter(camper => allMatches(camper));\n  };\n\n  const filteredList = filteredCampers(campers);\n\n  return (\n    <div className={css.container}>\n      {error}\n      {campers.length !== 0 && (\n        <ul className={css.list}>\n          {filteredList.map(camper => {\n            return <CatalogItem key={camper._id} camper={camper} />;\n          })}\n        </ul>\n      )}\n      {filteredList.length === 0 && !loading && (\n        <p>There is no camper to match your requirements</p>\n      )}\n      {loading && <Loader />}\n      {filteredList.length !== 0 && loadMore && (\n        <button className={css.button} type=\"button\" onClick={onClickLoadMore}>\n          Load more\n        </button>\n      )}\n    </div>\n  );\n};\n","// extracted by mini-css-extract-plugin\nexport default {\"container\":\"CatalogPage_container__w3ZO8\",\"campers\":\"CatalogPage_campers__7jraH\"};","import { CatalogSearchBar } from '../../components/CatalogSearchBar/CatalogSearchBar';\nimport { CatalogList } from '../../components/CatalogList/CatalogList';\nimport { CamperModal } from '../../components/CamperModal/CamperModal';\nimport { useSelector } from 'react-redux';\nimport { selectCurrentCamper } from '../../redux/selectors';\nimport css from './CatalogPage.module.css';\n\nexport const CatalogPage = () => {\n  const camper = useSelector(selectCurrentCamper);\n\n  return (\n    <>\n      <div className={css.container}>\n        <CatalogSearchBar />\n        <div className={css.campers}>\n          <CatalogList />\n        </div>\n      </div>\n      {camper && <CamperModal />}\n    </>\n  );\n};\n"],"names":["CatalogFilterItem","_ref","name","icon","nameValue","dispatch","useDispatch","_jsxs","className","css","children","_jsx","id","type","onChange","evt","filter","target","checked","addToolsFilter","removeToolsFilter","hidden","htmlFor","SvgIcon","CatalogFilterList","filterGroup","filters","Object","keys","map","CatalogSearchBar","locationFilter","useSelector","selectLocationFilter","onSubmit","preventDefault","updateCurrentPage","updateSearchLocation","fetchCampers","page","limit","autoComplete","placeholder","value","updateLocationFilter","TV","CD","radio","shower","toilet","bathroom","freezer","hob","microwave","panelTruck","fullyIntegrated","alcove","MagnifyingGlass","height","width","ariaLabel","wrapperStyle","wrapperClass","glassColor","color","CatalogList","campers","selectCampers","loading","selectLoading","error","selectError","loadMore","selectLoadMore","currentPage","selectCurrentPage","searchLocation","selectSearchLocation","toolsFilter","selectToolsFilter","useEffect","location","camperTypes","featurTypes","airConditioner","kitchen","beds","gas","water","adults","engine","transmission","filteredList","camper","camperLocation","toLowerCase","includes","types","checkedTypes","item","length","form","features","every","featureValue","details","allMatches","filteredCampers","CatalogItem","_id","Loader","onClick","CatalogPage","selectCurrentCamper","_Fragment","CamperModal"],"sourceRoot":""}